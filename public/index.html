<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        html,body{
            height: 100%;
            margin: 0;
            padding: 0;
        }
        #container{
            background-color: rgb(27, 27, 27);
            height: 100%;
            width: 100%;
            display: grid;
            grid-template-columns: repeat(18,auto);
            grid-template-rows: repeat(15,auto);
        }
        #picker{
            display: grid;
            grid-row: 1/3;
            grid-column: 1/19;
            grid-gap: 5px 5px;
            grid-template-columns: repeat(13,auto);
        }
        #canvas-div{
            grid-row: 4/15;
            grid-column: 2/13;
           display: grid;
        }
        #canvas{
            position: absolute;
            width: 59%;
            height: 75%;
            border: 2px  #145a32  solid;
        }
        #canvas-controls{
            grid-row: 4/15;
            grid-column: 15/18;
            background-color: chartreuse;
        }
        .color{
            height: 100%;
            transition: all .1s linear;
        }
        .color:hover{
            cursor: pointer;
            scale: 1.1
        }
        .color:active{
            scale: 1;
        }
        @media screen and (max-width: 960px){
            #canvas{width: 99%;height: 65%;}
            #picker{grid-row:14/15;grid-column: 1/19;}
            #canvas-div{grid-row:3/13;grid-column: 1/19;}
            #canvas-controls{grid-row: 1/2;grid-column: 1/19;}
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="picker"></div>
        <div id="canvas-div">
            <canvas id="canvas"></canvas>
        </div>
        <div id=canvas-controls></div>
    </div>
</body>
<script>
    
    let lineColor='black'
    let colors=['black','blue','green','orange','red','purple','yellow','grey','crimson','coral','chartreuse','cyan']
    let picker=document.getElementById('picker')
    
    for(let i=0;i<12;i++){
        picker.innerHTML+='<div id='+i+' class=color onclick="selectColor(event)" style=background-color:'+colors[i]+'></div>'
    }

    function selectColor(e){
        lineColor=colors[e.explicitOriginalTarget.id]
    }

    let canvas=document.getElementById('canvas')
    // dyanmic canvas
    
    canvas.width=canvas.offsetWidth
    canvas.height=canvas.offsetHeight
    let ctx=canvas.getContext('2d')
    let position={x:0,y:0}
    document.addEventListener('mousedown',setPosition)
    document.addEventListener('mouseenter',setPosition)
    document.addEventListener('mousemove',draw)

    function setPosition(e){
        var rect = canvas.getBoundingClientRect()
        position.x= (e.clientX - rect.left) / (rect.right - rect.left) * canvas.width,
        position.y=(e.clientY - rect.top) / (rect.bottom - rect.top) * canvas.height
    }
    
    function draw(e){
        if(e.buttons!==1)
            return

        ctx.beginPath()
        ctx.lineCap = 'round';
        ctx.lineWidth=2
        ctx.strokeStyle = lineColor
        ctx.moveTo(position.x,position.y)
        setPosition(e)
        ctx.lineTo(position.x,position.y)
        ctx.closePath()
        ctx.stroke()
    }
    
</script>
</html>